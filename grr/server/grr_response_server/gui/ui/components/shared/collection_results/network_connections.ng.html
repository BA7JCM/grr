@if (dataSource.data.length > 0) {
  <filter-paginate [dataSource]="dataSource">
    <table mat-table
      matSort
      dense
      [dataSource]="dataSource"
    >
      <ng-container matColumnDef="clientId">
        <th mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Sort by Client ID">
          Client ID
        </th>
        <td mat-cell *matCellDef="let r" class="cell">
          <copy-button>{{r.clientId}}</copy-button>
        </td>
      </ng-container>


      <ng-container matColumnDef="pid">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PID">
          PID
        </th>
        <td mat-cell *matCellDef="let r" class="cell">{{r.pid}}</td>
      </ng-container>

      <ng-container matColumnDef="processName">
        <th mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Sort by process name">
          Process Name
        </th>
        <td mat-cell class="monospace" *matCellDef="let c">
          <copy-button>{{ c.processName }}</copy-button>
        </td>
      </ng-container>

      <ng-container matColumnDef="state">
        <th mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Sort by state">
          State
        </th>
        <td mat-cell *matCellDef="let c">{{c.state}}</td>
      </ng-container>

      <ng-container matColumnDef="type">
        <th mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Sort by type">
          Type
        </th>
        <td mat-cell *matCellDef="let c">
          {{c.type | networkConnectionType}}
        </td>
      </ng-container>

      <ng-container matColumnDef="family">
        <th mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Sort by family">
          Family
        </th>
        <td mat-cell *matCellDef="let c">
          {{c.family | networkConnectionFamily}}
        </td>
      </ng-container>

      <ng-container matColumnDef="localIP">
        <th mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Sort by local IP">
          Local IP
        </th>
        <td mat-cell *matCellDef="let c">
          <copy-button [overrideCopyText]="c.localIP">{{ c.localAddress?.ip }}</copy-button>
        </td>
      </ng-container>

      <ng-container matColumnDef="localPort">
        <th mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Sort by local port">
          Local Port
        </th>
        <td mat-cell *matCellDef="let c">{{c.localAddress?.port}}</td>
      </ng-container>

      <ng-container matColumnDef="remoteIP">
        <th mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Sort by remote IP">
          Remote IP
        </th>
        <td mat-cell *matCellDef="let c">
          <copy-button [overrideCopyText]="c.remoteIP">{{ c.remoteAddress?.ip }}</copy-button>
        </td>
      </ng-container>

      <ng-container matColumnDef="remotePort">
        <th mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Sort by remote port">
          Remote Port
        </th>
        <td mat-cell *matCellDef="let c">{{c.remoteAddress?.port}}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns()"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns();"></tr>

      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No data.</td>
      </tr>
    </table>
  </filter-paginate>
}